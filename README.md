# アンケートシステム

Web上で動作するアンケートシステムです。アンケートの作成、回答、結果の確認ができます。

## 機能

### 1. アンケート作成システム（管理者向け）
- アンケートを自由に作成・編集
- ページ単位での設問管理
- 6種類の回答タイプをサポート：
  - テキスト回答
  - テキストボックス回答
  - 数値入力回答
  - チェックボックス回答
  - ラジオボタン回答
  - 5段階評価回答
- 回答に応じた分岐条件の設定（同一ページ内の設問には分岐不可）
- JSON形式でのエクスポート/インポート

### 2. アンケート回答システム（回答者向け）
- JSONファイルを読み込んでアンケートに回答
- ページ単位での回答（「次へ」ボタンでページ遷移）
- 分岐条件に応じた動的なページ遷移
- 回答結果のJSONダウンロード

## セットアップ

### 必要な環境
- Node.js (v16以上推奨)
- npm または yarn

### インストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:5173` を開きます。

### プロダクションビルド

```bash
npm run build
```

ビルド結果は `dist` フォルダに出力されます。

### ビルド結果のプレビュー

```bash
npm run preview
```

## 使い方

### アンケートの作成

1. トップページから「アンケートを作成する」を選択
2. アンケートのタイトルと説明を入力
3. 「ページ追加」でページを作成
4. 各ページに設問を追加
5. 各設問に回答項目を追加
6. 必要に応じて分岐条件を設定（※同一ページ内の設問には分岐できません）
7. 「JSONエクスポート」でアンケートデータを保存

### アンケートへの回答

1. トップページから「アンケートに回答する」を選択
2. 作成したJSONファイルを読み込み
3. 各ページの設問に回答
4. 「次のページ」ボタンでページ遷移
5. すべての回答が完了したら「回答結果をダウンロード」で結果を保存

## 技術スタック

- React 18
- TypeScript
- Vite
- React Router
- CSS Modules

## データ形式

### アンケートJSON形式

```json
{
  "id": "survey-001",
  "title": "アンケートタイトル",
  "description": "アンケートの説明",
  "pages": [
    {
      "id": "page1",
      "questions": [
        {
          "id": "q1",
          "title": "設問タイトル",
          "description": "設問の説明",
          "items": [
            {
              "id": "item1",
              "title": "回答項目タイトル",
              "description": "回答項目の説明",
              "type": "radio",
              "options": ["選択肢1", "選択肢2"],
              "branchConditions": [
                {
                  "value": "選択肢1",
                  "nextPageId": "page3"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
```

### 回答結果JSON形式

```json
{
  "surveyId": "survey-001",
  "pageAnswers": [
    {
      "pageId": "page1",
      "answers": [
        {
          "itemId": "item1",
          "value": "選択肢1"
        }
      ]
    }
  ],
  "completedAt": "2024-01-01T00:00:00.000Z"
}
```

## 注意事項

- 初期バージョンではストレージを使用していません（データはJSON形式で保存）
- 分岐条件は同一ページ内の設問には設定できません
- 回答の集計機能は初期バージョンでは未実装です

## ライセンス

MIT
